---
section: learn
date: Last Modified
title: "طرح تعهد KZG"
lang: "fa"
dir: "rtl"
permalink: "learn/zero-knowledge/kzg-commitment-scheme"
excerpt: "طرح KZG در Proto-Danksharding اتریوم استفاده می‌شود و همچنین در سیستم اثبات Scroll به کار می‌رود. این مقاله به بررسی طرح تعهد KZG می‌پردازد."
whatsnext: { "منابع اضافی": "/fa/learn/zero-knowledge/additional-zk-learning-resources" }
---

یکی از پرکاربردترین طرح‌های تعهد چندجمله‌ای، طرح تعهد KZG است. این طرح اولین بار در سال ۲۰۱۰ توسط Kate، Zaverucha، و Goldberg منتشر شد.

KZG در [Proto-Danksharding](https://notes.ethereum.org/@vbuterin/proto_danksharding_faq) اتریوم استفاده می‌شود و همچنین در سیستم اثبات Scroll به کار می‌رود.

این مقاله به بررسی طرح تعهد KZG می‌پردازد.

## مقدمات و نوتیشن

به یاد داشته باشید که فرضیه طرح‌های تعهد چندجمله‌ای این است که ما یک چندجمله‌ای $P(x)$ داریم که می‌خواهیم به آن تعهد کنیم. فرض می‌کنیم که درجه چندجمله‌ای کمتر از $l$ است.

تعهدات KZG به [جفت‌های منحنی بیضوی](https://vitalik.ca/general/2017/01/14/exploring_ecp.html) متکی هستند. بگذارید $\mathbb{G}_1$ و $\mathbb{G}_2$ دو گروه منحنی بیضوی با مرتبه $p$ باشند، با یک [نگاشت خطی غیرتبعیضی](https://en.wikipedia.org/wiki/Bilinear_map) $e: \mathbb{G}_1 \times \mathbb{G}_2 \rightarrow \mathbb{G}_T$. بگذارید $g$ یک تولیدکننده از $\mathbb{G}_1$ و $h$ یک تولیدکننده از $\mathbb{G}_2$ باشد. از نوتیشن $[x]_1 := x \cdot g$ و $[x]_2 := x \cdot h$ استفاده خواهیم کرد، جایی که $x \in \mathbb{F}_p$.

## ۱. تنظیمات مورد اعتماد

قبل از محاسبه هر تعهد KZG، باید یک تنظیمات مورد اعتماد انجام شود. پس از اتمام تنظیمات مورد اعتماد، می‌توان از آن برای تعهد و فاش کردن هر تعداد چندجمله‌ای که بخواهید استفاده کرد. تنظیمات مورد اعتماد به شرح زیر است:

- انتخاب یک عنصر تصادفی از میدان $\tau \in \mathbb{F}_p$
- بگذارید $l \in \mathbb{Z}$ حداکثر درجه چندجمله‌ای‌هایی باشد که می‌خواهیم به آن‌ها تعهد کنیم
  - تنظیمات مورد اعتماد تنها تعهد به چندجمله‌ای‌هایی با درجه $\leq l$ را فعال می‌کند
- محاسبه و انتشار مقادیر $([\tau^0]_1,[\tau^1]_1,[\tau^{2}]_1\ldots,[\tau^{l}]_1)$ و $([\tau]_2)$ به صورت عمومی.

توجه داشته باشید که $\tau$ نباید فاش شود - این یک پارامتر مخفی از تنظیمات است و باید پس از پایان مراسم تنظیمات مورد اعتماد دور انداخته شود تا هیچ‌کس نتواند مقدار آن را مشخص کند.

روش‌های معتبری برای برگزاری مراسم تنظیمات مورد اعتماد با فرضیات ضعیف اعتماد (فرض اعتماد ۱-از-N) با استفاده از [محاسبات چند‌جانبه امن](https://en.wikipedia.org/wiki/Secure_multi-party_computation) (MPC) وجود دارد. برای اطلاعات بیشتر در مورد نحوه کارکرد تنظیمات مورد اعتماد، به این [پست](https://vitalik.ca/general/2022/03/14/trustedsetup.html) از Vitalik مراجعه کنید.

## ۲. تعهد به یک چندجمله‌ای

- با داشتن یک چندجمله‌ای $P(x) = \sum_{i=0}^{l} p_i x^i$
- محاسبه و انتشار تعهد $c = [P(\tau)]_1$
  - اگرچه متعهد نمی‌تواند مستقیماً $P(\tau)$ را محاسبه کند (چون $\tau$ را نمی‌داند)، اما می‌تواند آن را با استفاده از خروجی تنظیمات مورد اعتماد محاسبه کند:
    - $[P(\tau)]_1 = [\sum_{i=0}^{l} p_i \tau^i]_1 = \sum_{i=0}^{l} p_i [\tau^i]_1$

## ۳. اثبات یک ارزیابی

- با داشتن یک ارزیابی $P(a) = b$
- محاسبه و انتشار اثبات $\pi = [Q(\tau)]_1$
  - جایی که $Q(x) := \frac{P(x)-b}{x-a}$
    - این به نام "چندجمله‌ای سهمی" شناخته می‌شود. توجه داشته باشید که چنین $Q(x)$ تنها در صورتی وجود دارد که $P(a) = b$. بنابراین وجود این چندجمله‌ای سهمی به عنوان اثباتی از ارزیابی عمل می‌کند.

## ۴. تأیید اثبات ارزیابی

- با داشتن یک تعهد $c = [P(\tau)]_1$، یک ارزیابی $P(a) = b$، و یک اثبات $\pi = [Q(\tau)]_1$
- تأیید کنید که $e(\pi, [\tau - a]_2) = e(c - [b]_1, h)$
  - برخی محاسبات نشان می‌دهد که این معادل با بررسی این است که چندجمله‌ای سهمی به درستی در $\tau$ فرم‌بندی شده است: $Q(\tau) = \frac{P(\tau) -b}{\tau-a}$
    $$
    \begin{align*}
    & e(\pi, [\tau - a]_2) = e(c - [b]_1, h) \\ \iff
    & e([Q(\tau)]_1, [\tau -a]_2) = e([P(\tau)]_1 - [b]_1, h) \\ \iff
    & Q(\tau) \cdot (\tau - a) \cdot e(g, h) = (P(\tau)-b) \cdot e(g,h) \\ \iff
    & Q(\tau) \cdot (\tau -a) = P(\tau) - b
    \end{align*}
    $$
  - نگاشت خطی $e$ به ما این امکان را می‌دهد که این خاصیت را بدون دانستن پارامتر مخفی تنظیمات $\tau$ بررسی کنیم
- پس از تکمیل این تأیید، می‌توانیم نتیجه بگیریم که (با احتمال بسیار زیاد) چندجمله‌ای سهمی به درستی فرم‌بندی شده است و بنابراین ارزیابی صحیح است.

## بیشتر بدانید

- [https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html](https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html)
- [https://alinush.github.io/2020/05/06/kzg-polynomial-commitments.html](https://alinush.github.io/2020/05/06/kzg-polynomial-commitments.html)
- [https://www.iacr.org/archive/asiacrypt2010/6477178/6477178.pdf](https://www.iacr.org/archive/asiacrypt2010/6477178/6477178.pdf)
