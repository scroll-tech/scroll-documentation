---
section: developers
date: Last Modified
title: "بریج L1 و L2"
lang: "fa"
permalink: "developers/l1-and-l2-bridging"
whatsnext: { "بریج توکن‌های ETH و ERC20": "/fa/developers/l1-and-l2-bridging/eth-and-erc20-token-bridge/" }
excerpt: "مروری بر معماری بریج Scroll"
---

import ClickToZoom from "../../../../components/ClickToZoom.astro"
import Aside from "../../../../components/Aside.astro"
import L1GatewayWHITE from "../../../../assets/images/developers/L1GatewayWHITE.png"
import withdrawWHITE from "../../../../assets/images/developers/withdrawWHITE.png"

بریج Scroll امکان انتقال ETH، توکن‌های ERC20، NFT‌ها و پیام‌های دلخواه بین L1 و L2 را فراهم می‌کند. این بریج به عنوان یک مکانیزم امن برای جابجایی دارایی‌های دیجیتال مختلف بین L1 و L2 عمل می‌کند.

برای تسهیل انتقال ETH و توکن‌های ERC20، بریج Scroll از Gateway Router استفاده می‌کند. این قرارداد اطمینان می‌دهد که دارایی‌ها به طور روان بین L1 و L2 منتقل شوند و به کاربران اجازه می‌دهد توکن‌های مبتنی بر Ethereum را به راحتی جابجا کنند.

Gateway ERC721 و ERC1155 امکان انتقال دارایی‌های غیرقابل تعویض بین دو شبکه را فراهم می‌کند و به کاربران این امکان را می‌دهد که NFTهای خود را بین L1 و L2 منتقل کنند.

علاوه بر انتقال توکن‌ها، قرارداد Scroll Messenger امکان تعامل قراردادهای بین زنجیره‌ای را فراهم می‌کند. به این معنی که قراردادهای موجود در یک شبکه می‌توانند با قراردادهای موجود در شبکه دیگر از طریق قرارداد Scroll Messenger تعامل داشته باشند. این قابلیت امکانات را برای برنامه‌های غیرمتمرکز و قراردادهای هوشمند برای عمل کردن به طور روان در هر دو شبکه گسترش می‌دهد.

## معماری L1 Gateway

<ClickToZoom src={L1GatewayWHITE} />

ورودی‌های زیادی از سمت کاربر به بریج Scroll وجود دارد. این بستگی به این دارد که چه کاری می‌خواهید انجام دهید و چگونه می‌خواهید آن را انجام دهید. اگر می‌خواهید ETH یا توکن‌های ERC20 ارسال کنید، باید از `GatewayRouter` استفاده کنید. اگر می‌خواهید NFT ارسال کنید، باید از `L1ERC721Gateway` یا `L1ERC1155Gateway` استفاده کنید. اگر می‌خواهید داده‌های دلخواه ارسال کنید، باید از `L1ScrollMessenger` استفاده کنید. تمام انتقال‌های Gateway از Scroll Messenger برای ارسال دارایی‌ها به صورت بین زنجیره‌ای استفاده می‌کنند، که وظیفه آن افزودن تراکنش‌ها به صف پیام برای درج در L2 است.

## معماری L2 Gateway

<ClickToZoom src={withdrawWHITE} />

در مورد نقاط ورودی قابل فراخوانی بدون مجوز، معماری L2 Gateway بسیار شبیه به L1 است. تفاوت این است که هنگام ارسال پیام از L2، فراخوانی تابع `appendMessage` پیام را در یک درخت مرکل باینری اضافه‌شونده (معروف به درخت برداشت) در `L2MessageQueue` ذخیره می‌کند. هنگامی که پیام جدیدی به `L2MessageQueue` ارسال می‌شود، Relayer آن را شناسایی کرده و در پایگاه داده ذخیره می‌کند. هنگامی که بلوک نهایی شد، اثباتی از مسیر مرکل جدید تولید کرده و به گره L1geth منتقل می‌کند تا در `L1ScrollMessenger` اجرا شود. تمام ریشه‌های برداشت نهایی شده در قرارداد رول‌آپ ذخیره خواهند شد تا بتوانیم اثبات را در برابر آنها بررسی کنیم. در نسخه‌های آینده Scroll، نیاز به Relayer نخواهد بود زیرا تمام کاربران قادر خواهند بود تراکنش را در L1 نهایی کنند.

در بخش‌های آینده، ما جنبه‌های فنی بریج را بررسی خواهیم کرد، از جمله API قراردادهای هوشمند مورد نیاز برای استفاده از قابلیت‌های آن. راهنماهای دقیق با مثال‌های کد در بخش راهنماهای توسعه‌دهندگان ارائه شده است تا به توسعه‌دهندگان و کاربران در درک و پیاده‌سازی این قابلیت‌ها کمک کند.
