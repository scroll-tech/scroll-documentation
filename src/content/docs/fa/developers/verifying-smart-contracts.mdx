---
section: developers
date: Last Modified
title: "تایید قراردادهای هوشمند"
lang: "fa"
permalink: "developers/verifying-smart-contracts"
whatsnext: { "قراردادهای Scroll": "/fa/developers/scroll-contracts" }
excerpt: "به‌راحتی قراردادهای هوشمند خود را با ابزارهای توسعه‌دهنده پشتیبانی‌شده توسط Scroll تأیید کنید"
---

import Aside from "../../../../components/Aside.astro"
import ClickToZoom from "../../../../components/ClickToZoom.astro"
import verify1 from "./_images/verify1.png"
import CodeSample from "../../../../components/CodeSample/CodeSample.astro"

بعد از استقرار قراردادهای هوشمند خود، مهم است که کد خود را در یک کاوشگر بلاک تأیید کنید. این کار می‌تواند به صورت خودکار با استفاده از ابزارهای توسعه‌دهنده شما یا رابط کاربری وب انجام شود.

## استفاده از ابزارهای توسعه‌دهنده

بیشتر ابزارهای قرارداد هوشمند پلاگین‌هایی برای تأیید آسان قراردادهای شما در Etherscan دارند.

- Scroll Mainnet: https://api.scrollscan.com/api   
- Scroll Sepolia: https://api-sepolia.scrollscan.com/api

<Aside type="tip" title="استفاده از API Scrollscan">
  هنگام استفاده از Scrollscan، باید [یک حساب کاربری ثبت کنید](https://scrollscan.com/register) و یک کلید API ایجاد کنید. همان کلید می‌تواند برای هر دو Scroll Sepolia و شبکه اصلی استفاده شود. بعد از ایجاد کلید API، لطفاً چند دقیقه صبر کنید تا فعال شود.
</Aside>

### Hardhat

فایل `hardhat.config.ts` را اصلاح کنید تا به RPC و API کاوشگر بلاک Scroll اشاره کند.

به عنوان مثال، تنظیمات برای Scroll Sepolia به این صورت خواهد بود:
```javascript
...

const config: HardhatUserConfig = {
  ...
  networks: {
    scrollSepolia: {
      url: 'https://sepolia-rpc.scroll.io' || '',
      accounts:
        process.env.PRIVATE_KEY !== undefined ? [process.env.PRIVATE_KEY] : [],
    },
  },
  etherscan: {
    apiKey: {
      scrollSepolia: '<YOUR API KEY>',
    },
    customChains: [
      {
        network: 'scrollSepolia',
        chainId: 534351,
        urls: {
          apiURL: 'https://api-sepolia.scrollscan.com/api',
          browserURL: 'https://sepolia.scrollscan.com/',
        },
      },
    ],
  },
}

...
```

حال می‌توانید قرارداد هوشمند را با اجرای دستور زیر تأیید کنید.

```solidity
npx hardhat verify --network scrollSepolia <contract address> <space separated constructor parameters>
```

به عنوان مثال، این گونه باید قرارداد هوشمندی که دو پارامتر uint در سازنده دریافت می‌کند، باشد:

```solidity
npx hardhat verify --network scrollSepolia 0xD9880690bd717189cC3Fbe7B9020F27fae7Ac76F 123 456
```

<Aside type="danger" title="هشدار">
  ممکن است خطایی با عنوان `etherscan.apiKey.trim is not a function` دریافت کنید. در این صورت، نیاز به به‌روزرسانی
  `@nomiclabs/hardhat-etherscan` دارید تا بتواند زنجیره‌های سفارشی را پشتیبانی کند. سعی کنید دستور `npm update
  @nomiclabs/hardhat-etherscan` را اجرا کنید.
</Aside>

### Foundry

هنگام استفاده از Foundry، دستور `verify-contract` به شما کمک می‌کند تا فرآیند تأیید قراردادها را خودکار کنید. اگر قرارداد شما آرگومان‌های سازنده دارد، می‌توانید این‌ها را به صورت فرم ABI-encoded با گزینه `--constructor-args` مشخص کنید. به عنوان مثال، اگر سازنده شما دو متغیر `uint256` می‌گیرد:
```bash
 --constructor-args $(cast abi-encode "constructor(uint256,uint256)" 0 7)
```

به مستندات [Foundry](https://book.getfoundry.sh/reference/forge/forge-verify-contract) برای گزینه‌های بیشتر که می‌توانید مشخص کنید، مراجعه کنید.

```bash
forge verify-contract <contract address> <contract name> \
  --verifier-url https://api-sepolia.scrollscan.com/api \
  --etherscan-api-key <your Scrollscan API key> \
  --constructor-args <your constructor arguments>
```
<Aside type="caution" title="احتیاط">
  شناسه زنجیره را مشخص نکنید.
</Aside>
